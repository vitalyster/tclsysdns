$Id$

HIGH:

* Formatting of IPv4 and IPv6 addresss should be moved to resfmt
  module; the addresses should be passed to formatters as
  unsigned long and 8 unsigned shorts, respectively, or
  via some (standard?) structs.

* In resolver part, should probably do an early checks to skip
  parsing of RRs if none of them is needed for result set.

* Bring the list of DNS RR types in sync with
  http://www.iana.org/assignments/dns-parameters
  (seems like VC defines several types that are unusable
  in queries and thus should be avoided).

* Factor out functions building intermediate result sets
  and use them in the Win32 part.

* Investigate why one additional bogus (?) IP is returned
  for the "A" RR for the "www.gnu.org" query on Win32.

* Think of making DNSMsgExpandName() return a pointer to its
  internal static buffer since a domain name can't exceed 255
  characters and this name is anyway mostly needed just to
  be copied to an internal rep of Tcl_StringObj.
  Allocation of memory in the caller's stack frame is tedious.

NORMAL:

* Bring MinGW support in sync.

* Bring lwres part in sync.

* (dnsmsg.c): boundary checking while parsing RRDATA sections
  should probably take the rdlength parameter into account.

* Extensively comment unix/dnsmsg.c when it's stabilized.
  Explicitly mark mutator functions as being such.

* Result set "templating" seems impossible due to this error:
  "Tcl_ListObjAppendElement called with shared object"
  which occurs if we append a shared Tcl_Obj to a list.

LOW:

* Provide script-level command which will call res_init()
  to re-read /etc/resolv.conf, etc.

* When resolver is ready, possibly look at ADNS.
  Same for libdnsres (http://monkey.org/~provos/libdnsres/).

* What's with DNS support on Win9x/WinNT?

* An AIX communications programming reference document
  http://publib.boulder.ibm.com/infocenter/pseries/v5r3/topic/com.ibm.aix.commtechref/doc/commtrf2/commtrf2.pdf
  states that in order to use the "dn_expand" resolver
  command an "_BSD" macro must be defined with values of 43 or
  44 and the library must be linked against libbsd.a.

* Create simple release packaging facilities.

UNCERTAIN:

* Study what's happening (libresolv):
  % ::sysdns::resolve .org
  message too long
  Investigation with dig and host shows that this is just a way
  of libresolv to report the error in the query string, for
  instance, both dig and host say:
  $ dig .org
  dig: '.org' is not a legal name (empty label)
  $ host .org
  host: '.org' is not a legal name (empty label)
  Seems like no leading dot is allowed (which is quite
  understandable).
  What's interesting, is how to make this error more
  human-readable.

* (libresolv): investigate why this fails:
  % ::sysdns::resolve www-secure.ip6.cs.ucl.ac.uk -type aaaa -auth
  message too long
  At the first glance it *may* be due to inability of
  dn_expand() to process "canonical" domain name, which isn't
  compressed.
  2007-12-07 it suddenly works w/o any changes to the code.
  dn_expand() is confirmed to expand any <domain-name>s,
  including non-compressed.

# vim:tw=64:noet
